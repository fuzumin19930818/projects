<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CSS3 弹幕</title>
<link rel="stylesheet" type="text/css" href="css/css3DM.css">
</head>
<body>
<button class="btn">go</button>
<button class="btn2">full</button>
<!--dom-->
<div class="css3DM-container">
	<div class="css3DM-wrapper">
		<div class="css3DM-videoBox">
			<video src="STYX HELIX.mp4" loop="loop"></video>
		</div>
		<div class="css3DM-DMBox"></div>
	</div>
</div>
<!--end-->
<script type="text/javascript" src="js/css3DM.js"></script>
<script type="text/javascript">
var DM = new css3DM();
document.querySelector(".btn").onclick = function(e){
	DM.init();
	setInterval(function(){
		DM.addDatas([{
			img : "1.jpg",
			text : "我是弹幕加的"
		}]);
	},1000);
	document.querySelector("video").play();
};

document.querySelector(".btn2").onclick = function(e){
	var wrapper = document.querySelector(".css3DM-wrapper");
	if(wrapper.requestFullScreen)
	wrapper.requestFullScreen();
	else if(wrapper.webkitRequestFullScreen)
	wrapper.webkitRequestFullScreen();
	else if(wrapper.mozRequestFullScreen)
	wrapper.mozRequestFullScreen();
	else
	alert("本浏览器不支持全屏");
	DM.enterFullScreen();
};

document.onkeydown = function(e){
	e = e || event;
	if(e.keyCode == 122){
		e.preventDefault();
		return false;
	}
};

document.onkeyup = function(e){
	e = e || event;
	if(e.keyCode == 27 || e.keyCode == 122){
		DM.getWrapperSize();
	}
}
</script>
</body>
</html>